var dom={el:function(a){if(a=document.getElementById(a))a.attr=function(a,b){this.setAttribute(a,b)},a.add=function(a){this.appendChild(a)};return a},newEl:function(a){a=document.createElement(a);a.attr=function(a,b){this.setAttribute(a,b)};a.add=function(a){this.appendChild(a)};return a},ready:function(){return"complete"===document.readyState?!0:!1},tags:function(a){return document.getElementsByTagName(a)},waitTillReady:function(a){var c=setInterval(function(){dom.ready()&&(clearInterval(c),a())},
5)},waitTillElementReady:function(a,c){var b=setInterval(function(){dom.el(a)&&(clearInterval(b),c())},5)}},funcs={};
window.cookieStorage={getItem:function(a){return a&&this.hasOwnProperty(a)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(a){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,c){a&&(document.cookie=escape(a)+"="+escape(c)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},
length:0,removeItem:function(a){a&&this.hasOwnProperty(a)&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(a){return RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}};window.cookieStorage.length=(document.cookie.match(/\=/g)||window.cookieStorage).length;
var ui={resizables:[],element:function(a){a.id||(a.id="element_"+Math.floor(1E6*Math.random()));(function(a,b){var d=setInterval(function(){dom.ready()&&(clearInterval(d),a(b))},5)})(function(c){var b=dom.newEl(a.tag);b.attr("id",c);delete a.tag;for(var d in a)if("function"==typeof a[d]){c=a[d].toString();c=c.substring(c.indexOf("("));var e="function_"+Math.floor(1E8*Math.random())+" ";eval("funcs."+e+"= function "+e+c);b.attr(d,"funcs."+e+"()")}else"klass"==d?b.attr("class",a[d]):"content"==d?b.innerHTML=
a[d]:b.attr(d,a[d]);a.parent?("string"==typeof a.parent?dom.el(a.parent).appendChild(b):a.parent.appendChild(b),delete a.parent):dom.tags("body")[0].appendChild(b);return b},a.id);return a.id},dropdown:{add:function(a,c,b,d){dom.waitTillElementReady(a,function(){var e=dom.newEl("div");e.attr("class","btn-group");var f=dom.newEl("a");f.attr("class","btn");f.attr("href","#");f.innerHTML=b[0];f.attr("id",c+"_root");f.attr("value",d[0]);var g=dom.newEl("a");g.attr("class","btn dropdown-toggle");g.attr("data-toggle",
"dropdown");g.attr("href","#");var h=dom.newEl("span");h.attr("class","caret");g.add(h);e.add(f);e.add(g);f=dom.newEl("ul");f.attr("id",c);f.attr("class","dropdown-menu");f.attr("style","text-align : left");e.add(f);for(g=0;g<b.length;g++){h=dom.newEl("li");h.attr("value",d[g]);h.attr("option",b[g]);var l=dom.newEl("li");l.attr("class","divider");var k=dom.newEl("a");k.href="#";k.attr("onclick",'ui.dropdown.setSelected("'+c+'","'+d[g]+'")');k.innerHTML=b[g];h.add(k);f.add(h);f.add(l)}dom.el(a).add(e)})},
getSelected:function(a){return dom.el(a+"_root").getAttribute("value")},setSelected:function(a,c){for(var b=dom.el(a),d=0;d<b.children.length;d++){var e=b.children[d];if(e.getAttribute("value")===c){b=e.getAttribute("option");d=dom.el(a+"_root");d.attr("value",c);d.innerHTML=b;break}}}},modal:function(a,c,b,d){dom.el("alert-window")||$("body").append("<div class='modal' id='alert-window'><div class='modal-dialog'><div class='modal-content'  style='overflow: auto;height : auto'><div class='modal-header'><h3 class='modal-title' id='modal-title'></h3></div><div class='modal-body' id='modal-content'></div><div class='modal-footer'><button type='button' class='btn btn-default' data-dismiss='modal' id='cancel_func'>Cancel</button><button type='button' class='btn btn-primary' id='ok_func'>OK</button></div></div>\x3c!-- /.modal-content --\x3e</div>\x3c!-- /.modal-dialog --\x3e</div>\x3c!-- /.modal --\x3e");
$("#modal-content").html("");$("#modal-title").html(a);eval(c);$("#ok_func").attr("onclick",b);$("#cancel_func").attr("onclick",d);$("#alert-window").modal()},staticmodal:function(a,c,b){var d=Math.floor(1E8*Math.random()),e=d+"_dialog",f={id:e,width:0.95},e="<div class='static-modal' id="+d+"><div class='modal'><div class='modal-dialog' id="+e+"><div class='modal-content'><div class='modal-header'><h3 class='modal-title' id='modal_title'></h3></div><div class='modal-body' id='modal_body'></div></div>\x3c!-- /.modal-content --\x3e</div>\x3c!-- /.modal-dialog --\x3e</div>\x3c!-- /.modal --\x3e</div>";
$("#"+a).append(e);$("#modal_title").html(c);eval(b);$("#modal_title").attr("id","");$("#modal_body").attr("id","");ui.resizables.push(f);ui.resize();return d},resize:function(){var a=ui.resizables,c;for(c in a){var b=a[c],d=dom.el(b.id);d.style.width=ui.getDim()[0]*b.width+"px";d.style.height=ui.getDim()[1]*b.height+"px"}},getDim:function(){var a=window.document.body,c,b;window.innerHeight?(c=window.innerHeight,b=window.innerWidth):a.parentElement.clientHeight?(c=a.parentElement.clientHeight,b=a.parentElement.clientWidth):
a&&a.clientHeight&&(c=a.clientHeight,b=a.clientWidth);return[b,c]}},ajax={run:function(a){function c(b){return function(){if(4===b.readyState)if(200===b.status){var c=JSON.parse(b.responseText);null!==a.success&&(a.loadArea&&(dom.el(a.loadArea).style.display="none"),"auth_url"===c.type?window.location=c.data:a.success(c))}else null!==a.error&&(a.loadArea&&(dom.el(a.loadArea).style.display="none"),a.error(a))}}a.loadArea&&(dom.el(a.loadArea).style.display="block");return function(){var b=getRequestObject();
null!=a.error&&b.onerror&&(b.onerror=a.error);sendJSON(a.url,a.data,b,c(b),a.type)}()}};function getRequestObject(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:null}function sendJSON(a,c,b,d,e){c="json="+encodeURIComponent(JSON.stringify(c));b.onreadystatechange=d;b.open(e,a,!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(c)};